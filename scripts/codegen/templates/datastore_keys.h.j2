// Auto-generated from IPC schema (Feature 019)
// DO NOT EDIT MANUALLY - Generated by scripts/codegen/generate_ipc_schema.py
// Schema version: {{ schema_version }}

#pragma once

#include <cstdint>
#include <string>
#include <array>

namespace mxrc {
namespace ipc {

/**
 * @brief DataStore í‚¤ ìƒìˆ˜ (ì»´íŒŒì¼ íƒ€ì„ íƒ€ì… ì•ˆì „ì„± ë³´ì¥)
 *
 * ì´ í—¤ë”ëŠ” YAML ìŠ¤í‚¤ë§ˆì—ì„œ ìë™ ìƒì„±ë©ë‹ˆë‹¤.
 * í‚¤ ì¶”ê°€/ìˆ˜ì • ì‹œ docs/specs/019-architecture-improvements/contracts/ipc-schema.yamlì„ í¸ì§‘í•˜ì„¸ìš”.
 */
namespace DataStoreKeys {

{% for key_name, spec in keys.items() %}
/// {{ spec.description }}
/// Type: {{ spec.type }}
{% if spec.get('hot_key', False) %}
/// ğŸ”¥ HOT KEY - ê³ ì„±ëŠ¥ ìºì‹œ (<60ns read, <110ns write)
{% endif %}
constexpr const char* {{ key_name | upper }} = "{{ key_name }}";
{% endfor %}

}  // namespace DataStoreKeys

/**
 * @brief Hot Key ëª©ë¡ (Folly AtomicHashMap ìºì‹œ ëŒ€ìƒ)
 *
 * ì´ {{ hot_keys|length }} / 32 Hot Keys
 */
namespace HotKeys {

constexpr const char* ALL_HOT_KEYS[] = {
{% for key_name in hot_keys.keys() %}
    DataStoreKeys::{{ key_name | upper }},
{% endfor %}
};

constexpr size_t HOT_KEY_COUNT = sizeof(ALL_HOT_KEYS) / sizeof(ALL_HOT_KEYS[0]);

}  // namespace HotKeys

}  // namespace ipc
}  // namespace mxrc
