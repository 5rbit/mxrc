// Auto-generated from IPC schema (Feature 019)
// DO NOT EDIT MANUALLY - Generated by scripts/codegen/generate_ipc_schema.py
// Schema version: {{ schema_version }}

#pragma once

#include <string>
#include <chrono>
#include <optional>

namespace mxrc {
namespace ipc {

/**
 * @brief EventBus 이벤트 타입 및 우선순위
 *
 * 이 헤더는 YAML 스키마에서 자동 생성됩니다.
 */

/// 이벤트 우선순위 레벨
enum class EventPriority : uint8_t {
    LOW = 0,
    NORMAL = 1,
    HIGH = 2,
    CRITICAL = 3
};

{% for event_name, spec in events.items() %}
/**
 * @brief {{ spec.description }}
 *
 * Priority: {{ spec.get('priority', 'NORMAL') }}
 {% if spec.get('ttl_ms') %}
 * TTL: {{ spec.ttl_ms }}ms
 {% endif %}
 {% if spec.get('coalescing') %}
 * Coalescing: Enabled
 {% endif %}
 */
struct {{ event_name }} {
    static constexpr const char* NAME = "{{ event_name }}";
    static constexpr EventPriority PRIORITY = EventPriority::{{ spec.get('priority', 'NORMAL') }};
    {% if spec.get('ttl_ms') %}
    static constexpr std::chrono::milliseconds TTL{ {{ spec.ttl_ms }} };
    {% else %}
    static constexpr std::optional<std::chrono::milliseconds> TTL = std::nullopt;
    {% endif %}
    static constexpr bool COALESCING = {{ 'true' if spec.get('coalescing') else 'false' }};

    // 페이로드 필드 (필요 시 추가)
    {% if 'fields' in spec %}
    {% for field in spec.fields %}
    {{ field.field_type }} {{ field.field_name }};
    {% endfor %}
    {% endif %}
};

{% endfor %}

}  // namespace ipc
}  // namespace mxrc
